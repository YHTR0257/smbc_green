# What I did

- お祭りの適用
- 休日の適用
- 祝日の適用
- 祝日と休日の適用
- 祝日と休日の適用における欠損値処理
    - これらは20250625_01で実装
- 都市圏人口と地区人口の適用
    - 不快指数と組み合わせたパラメータを作成
    - 都市圏人口　 20250625_01
    - 地区人口　20250625_01

- 多重共線性を減らすためにLASSO回帰を使用
- VIFを用いて多重共線性の検出を行いたい

## ConfigLoader修正 (2025/06/27)
- **問題**: `get_festivals_config`と`get_holidays_config`でYAMLファイルの年データが読み込めない
- **原因**: YAMLファイルでは年が整数型だが、コードでは文字列型で検索していた
- **修正**: `config_loader.py`で`year_key = str(year)` → `year_key = year`に変更
- **結果**: 2015-2018年の祭典・祝日データが正常に読み込み可能

## model_training.py修正 (2025/06/27)
- **問題1**: 訓練時に`year`と`price_actual`列が見つからないエラー
- **修正1**: `year`列の存在チェックを追加してからdrop対象に含める処理を実装
- **問題2**: テスト予測保存時の変数競合エラー
- **修正2**: `submit_df`変数を`time_column`に変更して競合を解決
- **問題3**: 訓練データとテストデータの特徴量数不一致
- **修正3**: 全データセットで一貫して`['price_actual', 'time', 'year']`を削除するよう統一
- **最終結果**: XGBoostモデル訓練完了 (RMSE: 11.6163, R²: 0.1023)

# What I learn
- YAMLファイルの数値型と文字列型の扱いに注意が必要
- 訓練・検証・テストデータで一貫した前処理が重要
- XGBoostの特徴量名検証機能により列数・名前の一致が必須
- `month`, `day`, `hour`等の時間特徴量は有用、`year`列は学習に不要

# Problem
- 多重共線性を考慮した対策が必要になる

# Next Implement
- VIFを用いた多重共線性の検出と対策
- 欠損値処理の精度を向上させるための新しいアプローチを検討
- Transformerベースのモデルを用いた時系列予測の実装
- 時系列データの前処理を効率化するスクリプトを作成